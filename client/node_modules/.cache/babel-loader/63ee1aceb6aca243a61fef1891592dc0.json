{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/noah/Desktop/GCU/Spring-2021/CST-323/MilestoneInstance/323-milestone/client/src/components/Login/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router';\nimport LoginPage from './view';\nexport default function Login({\n  setCurrentUser\n}) {\n  _s();\n\n  const history = useHistory();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const onSubmit = () => {\n    axios.post('http://localhost:3001/api/getUserByCredentials', {\n      username: username,\n      password: password\n    }).then(response => {\n      if (response.data.length === 1) {\n        var _response$data$;\n\n        console.log(response.data[0]);\n        setCurrentUser(response.data[0]);\n        history.push(`/profile/${(_response$data$ = response.data[0]) === null || _response$data$ === void 0 ? void 0 : _response$data$.id}`);\n      }\n    });\n  };\n\n  const switchToRegister = () => {\n    history.push(`/register`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(LoginPage, {\n    setUsername: setUsername,\n    setPassword: setPassword,\n    onSubmit: onSubmit,\n    switchToRegister: switchToRegister\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Login, \"H4gXrCoHLhiMVNICxu+h4zBHttg=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/noah/Desktop/GCU/Spring-2021/CST-323/MilestoneInstance/323-milestone/client/src/components/Login/index.js"],"names":["React","useState","axios","useHistory","LoginPage","Login","setCurrentUser","history","username","setUsername","password","setPassword","onSubmit","post","then","response","data","length","console","log","push","id","switchToRegister"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,OAAOC,SAAP,MAAsB,QAAtB;AAEA,eAAe,SAASC,KAAT,CAAe;AAAEC,EAAAA;AAAF,CAAf,EAAmC;AAAA;;AAEhD,QAAMC,OAAO,GAAGJ,UAAU,EAA1B;AAEA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMW,QAAQ,GAAG,MAAM;AACrBV,IAAAA,KAAK,CAACW,IAAN,CAAW,gDAAX,EACA;AACEL,MAAAA,QAAQ,EAAEA,QADZ;AAEEE,MAAAA,QAAQ,EAAEA;AAFZ,KADA,EAIGI,IAJH,CAISC,QAAD,IAAc;AACpB,UAAGA,QAAQ,CAACC,IAAT,CAAcC,MAAd,KAAyB,CAA5B,EAA+B;AAAA;;AAC7BC,QAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAZ;AACAV,QAAAA,cAAc,CAACS,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAD,CAAd;AACAT,QAAAA,OAAO,CAACa,IAAR,CAAc,YAAD,mBAAYL,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAZ,oDAAY,gBAAkBK,EAAG,EAA9C;AACD;AACF,KAVD;AAWD,GAZD;;AAcA,QAAMC,gBAAgB,GAAG,MAAM;AAC7Bf,IAAAA,OAAO,CAACa,IAAR,CAAc,WAAd;AACD,GAFD;;AAIA,sBACA,QAAC,SAAD;AACE,IAAA,WAAW,EAAEX,WADf;AAEE,IAAA,WAAW,EAAEE,WAFf;AAGE,IAAA,QAAQ,EAAEC,QAHZ;AAIE,IAAA,gBAAgB,EAAEU;AAJpB;AAAA;AAAA;AAAA;AAAA,UADA;AAQD;;GAjCuBjB,K;UAENF,U;;;KAFME,K","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router'\r\n\r\nimport LoginPage from './view';\r\n\r\nexport default function Login({ setCurrentUser }) {\r\n\r\n  const history = useHistory();\r\n\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const onSubmit = () => {\r\n    axios.post('http://localhost:3001/api/getUserByCredentials', \r\n    {\r\n      username: username,\r\n      password: password,\r\n    }).then((response) => {\r\n      if(response.data.length === 1) {\r\n        console.log(response.data[0])\r\n        setCurrentUser(response.data[0]);\r\n        history.push(`/profile/${response.data[0]?.id}`)\r\n      }\r\n    });\r\n  }\r\n\r\n  const switchToRegister = () => {\r\n    history.push(`/register`);\r\n  }\r\n\r\n  return (\r\n  <LoginPage\r\n    setUsername={setUsername}\r\n    setPassword={setPassword}\r\n    onSubmit={onSubmit}\r\n    switchToRegister={switchToRegister}\r\n  />\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}